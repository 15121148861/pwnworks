require 'socket'

sock = TCPSocket.new(ARGV.shift, ARGV.shift.to_i)
puts sock.recv(100)
puts sock.recv(100)

x=1
loop do
   sock.send("set A %#{x}$x\n", 0)
   puts sock.recv(100)
   sock.send("get A\n", 0)
   puts sock.recv(100)

   x += 1
end

